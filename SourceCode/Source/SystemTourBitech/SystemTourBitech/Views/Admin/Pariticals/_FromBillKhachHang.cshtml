
<section class="content">
    <div class="box">
            		<div class="box-body">
			            <div class="form-group">
                          <label for="license1">Mã Hợp Đồng</label>
                          <div class="input-group">
                                    <input type="hidden" name="search_param" value="all" id="search_param">         
                                    <input type="text" class="form-control" id="SearchString112" name="SearchString112" placeholder="Search term...">
                                    <span class="input-group-btn">
                                        <button type="submit" class="searchbutton btn btn-default" ><span class="glyphicon glyphicon-search"></span></button>
                                    </span>
                           </div>
                        </div>
			             <table id="example1" class="table table-bordered table-striped">
				              <thead>
                                <tr>  
                                  <th>Mã Hóa Đơn</th>
                                  <th>Số Tiền</th>
                                  <th>Hình Thức</th>
                                  <th>Ngày Thành Toán</th>
                                </tr>  
				              </thead>
                              <tbody>

				              </tbody>
                                

			            </table>
                    </div>
    </div>
</section>



<script>

$(function(){
	String.format = function() {
        var s = arguments[0];
        for (var i = 0; i < arguments.length - 1; i++) {
        var reg = new RegExp("\\{" + i + "\\}", "gm");
        s = s.replace(reg, arguments[i + 1]);
        }
        return s;
    }
	
    $(".searchbutton").click(function(){
	    var searchFilter = $("#SearchString112").val();

	    var tables = $("#example1").find("tbody");
	    $.ajax({
            url: "/Admin/searchBillByMaHopDong",
            data: { maHopDong: searchFilter},
            type: "GET",
            contentType: "application/json",
            dataType: "json",
            success: function (data) {
	            tables.empty();

	            var dataJson = JSON.parse(data)
                for(item in dataJson)
	            {
                    var hinhthucthanhtoan = (dataJson[item].HinhThucThanhToan == "1") ? "TIỀN MẶT" : "THẺ TÍN DỤNG"; 
                    var _myString = String.format("<tr><td>{0}</td><td>{1}</td><td>{2}</td><td>{3}</td>",dataJson[item].maHoaDon ,dataJson[item].SoTienThanhToan , hinhthucthanhtoan, dataJson[item].NgayThayDoi );
                    tables.append(_myString);
	            }
            },
            error: function () {
                alert("error");
            }
        })
	});
});
</script>